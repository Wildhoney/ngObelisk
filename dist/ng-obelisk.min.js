/*! ng-obelisk by Adam Timberlake <adam.timberlake@gmail.com> created on 2014-04-02 */
!function(a){"use strict";var b=a.module("ngObelisk",[]);b.service("obelisk",["$window","$timeout",function(a,b){function c(a,b){this.object=a,this.p3d=b}function d(){var a=this;this.PixelView=function(b,d){function f(){this.renderObject=function(a,b){g.renderObject(a,b||{});var d=new c(a,b||{});return e.objects.push(d),d}}var g=a.__proto__.PixelView.prototype;return e.pixelView=g,a.__proto__.PixelView.apply(g,[b,d]),new f}}var e={};return e.objects=[],e.timeout=null,e.pixelView={},e._prepareChanges=function(){b.cancel(e.timeout),e.timeout=b(e._commitChanges,1)},e._commitChanges=function(){e.pixelView.clear();for(var a=0;a<e.objects.length;a++){var b=e.objects[a].object,c=e.objects[a].p3d,d=b.dimension.xAxis,f=b.dimension.yAxis,g=b.dimension.zAxis,h=new obelisk.CubeDimension(d,f,g),i=b.toString().replace(/[^a-z]+/gi,"");if("undefined"==typeof obelisk[i])throw"ngObelisk: unable to find object of type '"+i+"'.";var j=(new obelisk[i+"Color"]).getByHorizontalColor(b.color.horizontal);e.pixelView.renderObject(new obelisk[i](h,j,b.border),c)}},c.prototype={object:{},p3d:{},setX:function(a){e._prepareChanges(),this.object.dimension.xAxis=a},setY:function(a){e._prepareChanges(),this.object.dimension.yAxis=a},setZ:function(a){e._prepareChanges(),this.object.dimension.zAxis=a}},d.prototype=a.obelisk,new d}])}(window.angular);